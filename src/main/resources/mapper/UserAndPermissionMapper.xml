<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.clay.system.mapper.UserAndPermissionMapper">


    <select id="queryByUserEmail" resultType="com.clay.system.model.enity.Permission">
        SELECT p.* FROM t_user u,t_permission p,t_userAndPermission uap
        WHERE
        p.id=uap.pId
        AND
        uap.userId=u.id
        AND
        u.email = #{email}
    </select>
</mapper>